<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `wasmer_wasi` crate."><meta name="keywords" content="rust, rustlang, rust-lang, wasmer_wasi"><title>wasmer_wasi - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="https://wasmer.io/images/icons/favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../wasmer_wasi/index.html'><div class='logo-container'><img src='https://github.com/wasmerio.png?size=200' alt='logo'></div></a><p class="location">Crate wasmer_wasi</p><div class="block version"><p>Version 2.0.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all wasmer_wasi's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="wasmer_wasi" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">wasmer_wasi</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/wasmer_wasi/lib.rs.html#1-244" title="goto source code">[src]</a></span></h1><div class="docblock"><p>Wasmer's WASI implementation</p>
<p>Use <code>generate_import_object</code> to create an <a href="../wasmer/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a>.  This <a href="../wasmer/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a>
can be combined with a module to create an <code>Instance</code> which can execute WASI
Wasm functions.</p>
<p>See <code>state</code> for the experimental WASI FS API.  Also see the
<a href="https://github.com/wasmerio/wasmer/blob/master/examples/plugin.rs">WASI plugin example</a>
for an example of how to extend WASI using the WASI FS API.</p>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="macros/index.html" title="wasmer_wasi::macros mod">macros</a></td><td class="docblock-short"><p>Macros to simplify some common WASI-specific tasks.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="ptr/index.html" title="wasmer_wasi::ptr mod">ptr</a></td><td class="docblock-short"><p>This is a wrapper around the <code>WasmPtr</code> abstraction that returns __WASI_EFAULT
if memory access failed</p>
</td></tr><tr class="module-item"><td><a class="mod" href="state/index.html" title="wasmer_wasi::state mod">state</a></td><td class="docblock-short"><p>WARNING: the API exposed here is unstable and very experimental.  Certain things are not ready
yet and may be broken in patch releases.  If you're using this and have any specific needs,
please <a href="https://github.com/wasmerio/wasmer/issues/583">let us know here</a> or by filing an issue.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="syscalls/index.html" title="wasmer_wasi::syscalls mod">syscalls</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="types/index.html" title="wasmer_wasi::types mod">types</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="mod" href="utils/index.html" title="wasmer_wasi::utils mod">utils</a></td><td class="docblock-short"></td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Fd.html" title="wasmer_wasi::Fd struct">Fd</a></td><td class="docblock-short"></td></tr><tr class="module-item"><td><a class="struct" href="struct.Pipe.html" title="wasmer_wasi::Pipe struct">Pipe</a></td><td class="docblock-short"><p>For piping stdio. Stores all output / input in a byte-vector.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Stderr.html" title="wasmer_wasi::Stderr struct">Stderr</a></td><td class="docblock-short"><p>A wrapper type around Stderr that implements <code>WasiFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Stdin.html" title="wasmer_wasi::Stdin struct">Stdin</a></td><td class="docblock-short"><p>A wrapper type around Stdin that implements <code>WasiFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Stdout.html" title="wasmer_wasi::Stdout struct">Stdout</a></td><td class="docblock-short"><p>A wrapper type around Stdout that implements <code>WasiFile</code> and
<code>Serialize</code> + <code>Deserialize</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.WasiEnv.html" title="wasmer_wasi::WasiEnv struct">WasiEnv</a></td><td class="docblock-short"><p>The environment provided to the WASI imports.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.WasiFs.html" title="wasmer_wasi::WasiFs struct">WasiFs</a></td><td class="docblock-short"><p>Warning, modifying these fields directly may cause invariants to break and
should be considered unsafe.  These fields may be made private in a future release</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.WasiState.html" title="wasmer_wasi::WasiState struct">WasiState</a></td><td class="docblock-short"><p>Top level data type containing all* the state with which WASI can
interact.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.WasiStateBuilder.html" title="wasmer_wasi::WasiStateBuilder struct">WasiStateBuilder</a></td><td class="docblock-short"><p>Convenient builder API for configuring WASI via <a href="../wasmer_wasi/state/struct.WasiState.html" title="WasiState"><code>WasiState</code></a>.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.WasiError.html" title="wasmer_wasi::WasiError enum">WasiError</a></td><td class="docblock-short"><p>This is returned in <code>RuntimeError</code>.
Use <code>downcast</code> or <code>downcast_ref</code> to retrieve the <code>ExitCode</code>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.WasiFsError.html" title="wasmer_wasi::WasiFsError enum">WasiFsError</a></td><td class="docblock-short"><p>Error type for external users</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.WasiStateCreationError.html" title="wasmer_wasi::WasiStateCreationError enum">WasiStateCreationError</a></td><td class="docblock-short"><p>Error type returned when bad data is given to <a href="../wasmer_wasi/state/builder/struct.WasiStateBuilder.html" title="WasiStateBuilder"><code>WasiStateBuilder</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.WasiVersion.html" title="wasmer_wasi::WasiVersion enum">WasiVersion</a></td><td class="docblock-short"><p>The version of WASI. This is determined by the imports namespace
string.</p>
</td></tr></table><h2 id="constants" class="section-header"><a href="#constants">Constants</a></h2>
<table><tr class="module-item"><td><a class="constant" href="constant.ALL_RIGHTS.html" title="wasmer_wasi::ALL_RIGHTS constant">ALL_RIGHTS</a></td><td class="docblock-short"><p>all the rights enabled</p>
</td></tr><tr class="module-item"><td><a class="constant" href="constant.VIRTUAL_ROOT_FD.html" title="wasmer_wasi::VIRTUAL_ROOT_FD constant">VIRTUAL_ROOT_FD</a></td><td class="docblock-short"><p>the fd value of the virtual root</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.WasiFile.html" title="wasmer_wasi::WasiFile trait">WasiFile</a></td><td class="docblock-short"><p>This trait relies on your file closing when it goes out of scope via <code>Drop</code></p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.generate_import_object_from_env.html" title="wasmer_wasi::generate_import_object_from_env fn">generate_import_object_from_env</a></td><td class="docblock-short"><p>Create an <a href="../wasmer/import_object/struct.ImportObject.html" title="ImportObject"><code>ImportObject</code></a> with an existing <a href="../wasmer_wasi/struct.WasiEnv.html" title="WasiEnv"><code>WasiEnv</code></a>. <code>WasiEnv</code>
needs a <a href="../wasmer_wasi/state/struct.WasiState.html" title="WasiState"><code>WasiState</code></a>, that can be constructed from a
<a href="../wasmer_wasi/state/builder/struct.WasiStateBuilder.html"><code>WasiStateBuilder</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.generate_import_object_snapshot0.html" title="wasmer_wasi::generate_import_object_snapshot0 fn">generate_import_object_snapshot0</a></td><td class="docblock-short"><p>Combines a state generating function with the import list for legacy WASI</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.generate_import_object_snapshot1.html" title="wasmer_wasi::generate_import_object_snapshot1 fn">generate_import_object_snapshot1</a></td><td class="docblock-short"><p>Combines a state generating function with the import list for snapshot 1</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_wasi_version.html" title="wasmer_wasi::get_wasi_version fn">get_wasi_version</a></td><td class="docblock-short"><p>Detect the version of WASI being used based on the import
namespaces.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.get_wasi_versions.html" title="wasmer_wasi::get_wasi_versions fn">get_wasi_versions</a></td><td class="docblock-short"><p>Like <a href="../wasmer_wasi/utils/fn.get_wasi_version.html" title="get_wasi_version"><code>get_wasi_version</code></a> but detects multiple WASI versions in a single module.
Thus <code>strict</code> behaves differently in this function as multiple versions are
always supported. <code>strict</code> indicates whether non-WASI imports should trigger a
failure or be ignored.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.is_wasi_module.html" title="wasmer_wasi::is_wasi_module fn">is_wasi_module</a></td><td class="docblock-short"><p>Check if a provided module is compiled for some version of WASI.
Use <a href="../wasmer_wasi/utils/fn.get_wasi_version.html" title="get_wasi_version"><code>get_wasi_version</code></a> to find out which version of WASI the module is.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="wasmer_wasi"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>